"use strict";(self.webpackChunkstore=self.webpackChunkstore||[]).push([[881],{6881:(Z,d,a)=>{a.r(d),a.d(d,{ListComponent:()=>v});var t=a(5678),l=a(6814),s=a(1430);let m=(()=>{class r{constructor(){this.addToCart=new t.vpe}addToCartHandler(){console.log("click form child"),this.addToCart.emit(this.product)}static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-product"]],inputs:{product:"product"},outputs:{addToCart:"addToCart"},standalone:!0,features:[t.jDz],decls:14,vars:13,consts:[[1,"group","rounded-lg","border","md:flex-col","lg:flex-col"],[1,"md:w-full","w-full","overflow-hidden","rounded-t-lg","bg-gray-200",3,"routerLink"],[1,"h-full","w-full","object-cover","object-center","group-hover:opacity-75",3,"src","alt"],[1,"flex","flex-col","space-y-2","p-4"],[1,"text-sm","text-gray-700"],[1,"text-lg","font-medium","text-gray-900"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-black","bg-gray-200","font-medium","rounded-lg","text-sm","px-5","py-2.5","w-full","h-full",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"a",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"uppercase"),t.qZA(),t.TgZ(7,"p",5),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"p",6),t._uU(11),t.qZA(),t.TgZ(12,"button",7),t.NdJ("click",function(){return o.addToCartHandler()}),t._uU(13," Add to cart "),t.qZA()()()),2&i&&(t.xp6(1),t.MGl("routerLink","/product/",o.product.id,""),t.xp6(1),t.Q6J("src",o.product.images[0],t.LSH)("alt",o.product.title),t.xp6(3),t.hij(" ",t.lcZ(6,6,o.product.title)," "),t.xp6(3),t.hij(" ",t.gM2(9,8,o.product.price,"$","symbol","1.0")," "),t.xp6(3),t.hij(" ",o.product.CreationAt," "))},dependencies:[l.ez,l.gd,l.H9,s.rH]})}return r})();var c=a(95),g=a(9984),h=a(2985),f=a(1474);let y=(()=>{class r{constructor(){this.http=(0,t.f3M)(f.eN)}getAll(){return this.http.get("https://api.escuelajs.co/api/v1/categories")}static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const T=r=>({category_id:r});function _(r,p){if(1&r&&(t.TgZ(0,"li")(1,"a",10),t._uU(2),t.qZA()()),2&r){const e=p.$implicit;t.xp6(1),t.Q6J("queryParams",t.VKq(2,T,e.id)),t.xp6(1),t.Oqu(e.name)}}function C(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"app-product",11),t.NdJ("addToCart",function(o){t.CHM(e);const u=t.oxw();return t.KtG(u.addTocart(o))}),t.qZA()}2&r&&t.Q6J("product",p.$implicit)}let v=(()=>{class r{ngOnInit(){this.GetCategory()}ngOnChanges(e){this.getProducts()}constructor(e,i,o,u,n){this.cartService=e,this.ApiService=i,this.CategoryService=o,this.route=u,this.router=n,this.products=(0,t.tdS)([]),this.category=(0,t.tdS)([])}addTocart(e){this.cartService.addTocart(e)}getProducts(){this.ApiService.getProducts(this.category_id,this.title,this.price_min,this.price_max).subscribe({next:e=>{this.products.set(e)},error:e=>new Error(e)})}updateQueryParam(e){this.router.navigate([],{relativeTo:this.route,queryParams:{title:e.target.value},queryParamsHandling:"merge"})}updatePriceParamMax(e){this.router.navigate([],{relativeTo:this.route,queryParams:{price_max:e.target.value},queryParamsHandling:"merge"})}updatePriceParam(e){this.router.navigate([],{relativeTo:this.route,queryParams:{price_min:e.target.value},queryParamsHandling:"merge"})}GetCategory(){this.CategoryService.getAll().subscribe({next:e=>{this.category.set(e)},error:e=>new Error(e)})}static#t=this.\u0275fac=function(i){return new(i||r)(t.Y36(g.N),t.Y36(h.Y),t.Y36(y),t.Y36(s.gz),t.Y36(s.F0))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-list"]],inputs:{category_id:"category_id",title:"title",price_min:"price_min",price_max:"price_max"},standalone:!0,features:[t.TTD,t.jDz],decls:24,vars:4,consts:[[1,"flex","flex-col","sm:flex-row","space-x-4","mt-5"],[1,"w-full","sm:w-56","place-content-around","ml-4","md:w-56","mb-4","sm:mb-0"],[1,"text-md","mt-4"],["routerLink","/"],["type","text","placeholder","Search by Product name",1,"h-6","w-full","rounded-lg","outline-slate-600","border-black",3,"keydown"],["id","priceRange","type","range","min","0","max","1000",1,"h-6","w-full","rounded-lg","outline-slate-600","border-black",3,"ngModel","ngModelChange","input"],["for","priceRange"],["id","priceRangem","type","range","min","0","max","1000",1,"h-6","w-full","rounded-lg","outline-slate-600","border-black",3,"ngModel","ngModelChange","input"],["for","priceRangem"],[1,"grid","md:grid-cols-4","sm:grid-cols-2","gap-8","w-full"],["routerLink","/",3,"queryParams"],[3,"product","addToCart"],[3,"product"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3,"Search By Category"),t.qZA(),t.TgZ(4,"ul")(5,"li")(6,"a",3),t._uU(7,"All"),t.qZA()(),t.SjG(8,_,3,4,"li",null,t.x6l),t.qZA(),t.TgZ(10,"h1",2),t._uU(11,"Search By Title"),t.qZA(),t.TgZ(12,"input",4),t.NdJ("keydown",function(n){return o.updateQueryParam(n)}),t.qZA(),t.TgZ(13,"h1",2),t._uU(14,"Search By Price"),t.qZA(),t.TgZ(15,"input",5),t.NdJ("ngModelChange",function(n){return o.price_min=n})("input",function(n){return o.updatePriceParam(n)}),t.qZA(),t.TgZ(16,"label",6),t._uU(17),t.qZA(),t.TgZ(18,"input",7),t.NdJ("ngModelChange",function(n){return o.price_max=n})("input",function(n){return o.updatePriceParamMax(n)}),t.qZA(),t.TgZ(19,"label",8),t._uU(20),t.qZA()(),t.TgZ(21,"div",9),t.SjG(22,C,1,1,"app-product",12,t.x6l),t.qZA()()),2&i&&(t.wJu(8,o.category()),t.xp6(15),t.Q6J("ngModel",o.price_min),t.xp6(2),t.hij("Precio minimo: ",o.price_min,""),t.xp6(1),t.Q6J("ngModel",o.price_max),t.xp6(2),t.hij("Precio maximo: ",o.price_max,""),t.wJu(22,o.products()))},dependencies:[l.ez,m,s.rH,c.u5,c.Fj,c.eT,c.JJ,c.On]})}return r})()}}]);